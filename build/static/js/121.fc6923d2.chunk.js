"use strict";(self.webpackChunkjobsite=self.webpackChunkjobsite||[]).push([[121],{73986:function(e,t,n){n.r(t),n.d(t,{PlannerCalendar:function(){return R},default:function(){return z}});var a=n(93433),r=n(15671),o=n(43144),l=n(60136),s=n(27277),i=n(72791),d=n(78687),c=n(87781),u=n(42757),p=(n(97892),n(42152)),h=n(86487),v=n(46014),f=(n(67774),n(45987)),m=n(1413),g=n(72606),j=n(87309),y=n(98353),x=(n(20132),n(72426)),b=n.n(x),C=n(68651),M=(n(21045),n(23677),n(44026)),D=(n(34614),n(763)),Z=n(80184),k=["value","field","label","noLabel","isColumn","inlineLabel","form"],S=function(e){var t=e.value,n=e.field,a=e.label,r=e.noLabel,o=e.isColumn,l=e.inlineLabel,s=e.form,i=s.setFieldValue,d=s.setFieldTouched,c=s.touched,u=s.errors,v=(0,f.Z)(e,k);return o?(0,Z.jsxs)(Z.Fragment,{children:[!r&&(0,Z.jsx)(C.ar,{style:{flexBasis:"20%"},children:a}),(0,Z.jsx)(h._Y,(0,m.Z)((0,m.Z)((0,m.Z)({allowClear:!1},n),v),{},{format:"HH:mm",onChange:function(e,t){return i(n.name,b()(t,"HH:mm"))},value:t,onBlur:function(){return d(n.name,!0)}})),(0,D.get)(c,n.name)&&(0,D.get)(u,n.name)&&(0,Z.jsx)(C.p8,{children:(0,D.get)(u,n.name)})]}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(p.Ej,{children:(0,Z.jsxs)(p.Ej,{alignItems:"center",flexWrap:l&&"nowrap",children:[!r&&(0,Z.jsx)(C.ar,{style:{flexBasis:"20%"},children:a}),(0,Z.jsx)(h._Y,(0,m.Z)((0,m.Z)((0,m.Z)({allowClear:!1},n),v),{},{format:"HH:mm",onChange:function(e,t){return i(n.name,b()(t,"HH:mm"))},value:t,onBlur:function(){return d(n.name,!0)}}))]})}),(0,D.get)(c,n.name)&&(0,D.get)(u,n.name)&&(0,Z.jsx)(C.p8,{children:(0,D.get)(u,n.name)})]})},w=(n(32336),["errors","touched","isSubmitting","setFieldValue","setFieldTouched","values"]),L=function(e){(0,l.Z)(n,e);var t=(0,s.Z)(n);function n(e){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).state={reminder:!0},a}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.candidateId;(0,e.getCandidateProject)(t)}},{key:"render",value:function(){var e=this,t=this.props.candidateProject.map((function(e){return{label:"".concat(e.projectName),value:e.projectName}})),n=this.props,a=n.addHour;n.startTime,n.endTime;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(y.J9,{enableReinitialize:!0,initialValues:{projectName:"",startDate:"",endDate:"",organizationId:this.props.organizationId,candidateId:this.props.candidateId},onSubmit:function(t,n){var r=n.resetForm;console.log(t);var o="GMT+05:30 Kolkata".substring(4,10);console.log(o);var l=o.split(":");console.log(l);var s=60*+l[0]+ +l[1];console.log(s),t.endDate||(t.endDate=t.startDate);var i=b()(t.startDate).format("YYYY-MM-DD");console.log(i);var d=b()(t.startTime).format("HH:mm:ss.SSS[Z]");console.log(d);var c=d.substring(0,5);console.log(c);var u=d.substring(5,13);console.log(u);var p=c.split(":");console.log(p);var h=60*+p[0]+ +p[1];console.log(h);var v=h-s;console.log(v);var f=Math.floor(v/60),g=v%60;g=g<10?"0"+g:g;var j="".concat(f=f<10?"0"+f:f,":").concat(g);console.log(j);var y="".concat(j).concat(u);console.log(y);b()(t.endDate).format("YYYY-MM-DD");var x=b()(t.endTime).format("HH:mm:ss.SSS[Z]");console.log(x);var C=x.substring(0,5);console.log(C);var M=C.split(":");console.log(M);var D=60*+M[0]+ +M[1];console.log(D);var Z=Math.abs(D-s);console.log(Z);var k=Math.floor(Z/60);console.log(k);var S=Z%60;console.log(k),S=S<10?"0"+S:S;var w="".concat(k=k<10?"0"+k:k,":").concat(S);console.log(w),console.log(u),console.log("".concat(w).concat(u));"".concat(w).concat(u);a((0,m.Z)((0,m.Z)({},t),{},{startDate:t.startDate,endDate:t.endDate}),e.handleCallback),r()},children:function(n){n.errors,n.touched,n.isSubmitting,n.setFieldValue,n.setFieldTouched;var a=n.values;(0,f.Z)(n,w);return(0,Z.jsxs)(y.l0,{className:"form-background",children:[(0,Z.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,Z.jsxs)("div",{style:{height:"100%",width:"47%"},children:[(0,Z.jsx)(C.LZ,{}),(0,Z.jsx)(y.gN,{isRequired:!0,name:"projectName",label:(0,Z.jsx)(g.Z,{id:"app.project",defaultMessage:"Project"}),isColumn:!0,width:"100%",component:M.H,options:Array.isArray(t)?t:[],inlineLabel:!0}),(0,Z.jsx)(C.LZ,{}),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)(p.Ej,{justifyContent:"space-between",children:[(0,Z.jsx)("div",{style:{width:"47%"},children:(0,Z.jsx)(y.gN,{isRequired:!0,name:"startDate",label:(0,Z.jsx)(g.Z,{id:"app.startTime",defaultMessage:"Start Time"}),isColumn:!0,component:S,use12Hours:!0,value:a.startDate,inlineLabel:!0,style:{width:"100%"}})}),(0,Z.jsx)("div",{style:{width:"47%"},children:(0,Z.jsx)(y.gN,{isRequired:!0,name:"endDate",label:(0,Z.jsx)(g.Z,{id:"app.endtime",defaultMessage:"End Time"}),isColumn:!0,component:S,use12Hours:!0,value:a.endDate,inlineLabel:!0,style:{width:"100%"}})})]}),(0,Z.jsx)(p.Ej,{justifyContent:"space-between"})]}),(0,Z.jsx)(C.LZ,{})]})}),(0,Z.jsx)(C.LZ,{}),(0,Z.jsx)(p.Ej,{justifyContent:"flex-end",children:(0,Z.jsx)(j.ZP,{type:"primary",htmlType:"submit",Loading:e.props.addingPlannerHour,children:(0,Z.jsx)(g.Z,{id:"app.create",defaultMessage:"Create"})})})]})}})})}}]),n}(i.Component),H=(0,d.$j)((function(e){var t=e.auth,n=(e.event,e.employee,e.events,e.candidate,e.planner);return{candidateProject:n.candidateProject,addingPlannerHour:n.addingPlannerHour,candidateId:t.userDetails.candidateId,userId:t.userDetails.userId,organizationId:t.userDetails.organizationId}}),(function(e){return(0,c.DE)({getCandidateProject:v.W3,addHour:v.hP},e)}))(L),E=h.Yt.TabPane,T=function(e){(0,l.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props;e.plannerStartDate,e.plannerEndDate,e.plannerStartTime,e.plannerEndTime;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(p.tS,{children:(0,Z.jsx)(h.Yt,{defaultActiveKey:"2",style:{overflow:"visible",width:"53vw",padding:"0.9375em"},animated:!1,children:(0,Z.jsx)(E,{tab:(0,Z.jsxs)("span",{children:[(0,Z.jsx)("i",{class:"fas fa-luggage-cart"}),"\xa0 Hours"]}),children:(0,Z.jsx)(i.Suspense,{fallback:"Loading ...",children:(0,Z.jsx)(H,{})})},"1")})})})}}]),n}(i.Component),P=(0,d.$j)((function(e){e.planner;return{}}),(function(e){return(0,c.DE)({},e)}))(T),I=function(e){(0,l.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.chooserModal,n=e.handleChooserModal;e.handleCallModal,e.handleEventModal,e.handleTaskModal;return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(h.Jn,{title:"Schedule",visible:t,width:"55vw",bodyStyle:{padding:0},style:{overflow:"visible",top:40},maskClosable:!1,destroyOnClose:!0,onClose:function(){return n(!1)},footer:null,children:(0,Z.jsx)(p.Ej,{alignItems:"center",justifyContent:"space-evenly",children:(0,Z.jsx)(P,{})})})})}}]),n}(i.Component),F=(0,d.$j)((function(e){e.call,e.event,e.task;var t=e.planner;e.leave;return{chooserModal:t.chooserModal}}),(function(e){return(0,c.DE)({handleChooserModal:v.kJ},e)}))(I),Y=n(5099);function B(e,t){return e===t}var N=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(){for(var t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];var o=0,l=a.pop(),s=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(a),i=e.apply(void 0,[function(){return o++,l.apply(null,arguments)}].concat(n)),d=e((function(){for(var e=[],t=s.length,n=0;n<t;n++)e.push(s[n].apply(null,arguments));return i.apply(null,e)}));return d.resultFunc=l,d.dependencies=s,d.recomputations=function(){return o},d.resetRecomputations=function(){return o=0},d}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,n=null,a=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var a=t.length,r=0;r<a;r++)if(!e(t[r],n[r]))return!1;return!0}(t,n,arguments)||(a=e.apply(null,arguments)),n=arguments,a}}));var A=N([function(e){return e.hourListByUserId}],(function(e){return console.log("inside event selector"),e.map((function(e){console.log(e),console.log(e.projectName);var t=new Date;console.log("local sysytem date ".concat(t));var n=b()(e.startDate),a=b()(e.endDate);if(console.log("event start date ".concat(n)),console.log("event end date ".concat(a)),b()().isBetween(n,a))var r="orange";else r="white";return{title:e.projectName,start:e.startDate,end:e.endDate,color:"#3174ad",fontColor:r,type:"event",data:e}}))})),R=function(e){(0,l.Z)(n,e);var t=(0,s.Z)(n);function n(e){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).eventStyleGetter=function(e,t,n,a){return{style:{backgroundColor:e.color,borderRadius:"0.1875em",padding:0,paddingLeft:"0.3rem",opacity:.8,color:e.fontColor,fontWeight:600,border:"0em",display:"block"}}},a.onSelectEvent=function(e){console.log(e),"event"===e.type&&(a.props.handleEventModal(!0),a.setState({selectedEvent:e.data})),"call"===e.type&&(a.props.handleCallModal(!0),a.setState({selectedCall:e.data})),"task"===e.type&&(a.props.handleTaskModal(!0),a.setState({selectedTask:e.data})),"leave"===e.type&&(a.props.handleLeavesModal(!0),a.setState({selectedLeaves:e.data})),"project"===e.type&&(a.props.handleProjectModal(!0),a.setState({selectedProject:e.data}))},a.state={selectedEvent:{},selectedCall:{},selectedTask:{},selectedLeaves:{},selectedProject:{}},a}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.getHourListByUserId)(e.userDetails.candidateId)}},{key:"render",value:function(){var e=this.props,t=e.handleChooserModal,n=e.setPlannerDate,r=e.hours;e.events,e.calls,e.tasks,e.leaves,e.holidays,e.projects,e.addCallModal,e.addEventModal,e.addTaskModal,e.addLeavesModal,e.addProjectModal,e.handleCallModal,e.handleEventModal,e.handleTaskModal,e.handleLeavesModal,e.handleProjectModal;return(0,Z.jsxs)(p.rS,{children:[(0,Z.jsx)(u.OE,{selectable:!0,handleChooserModal:t,eventPropGetter:this.eventStyleGetter,onSelectSlot:n,events:(0,a.Z)(r)}),(0,Z.jsx)(F,{})]})}}]),n}(i.Component),z=(0,d.$j)((function(e){var t=e.auth;e.leave,e.call,e.event,e.task,e.holiday,e.project;return{userDetails:t.userDetails,hourListByUserId:t.hourListByUserId,hours:A(t)}}),(function(e){return(0,c.DE)({handleChooserModal:v.kJ,setPlannerDate:v.MT,getHourListByUserId:Y.en},e)}))(R)}}]);
//# sourceMappingURL=121.fc6923d2.chunk.js.map